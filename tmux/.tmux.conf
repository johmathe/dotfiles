# Modern tmux configuration with cool theme and status bar

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

# Enable mouse support
set -g mouse on

# Increase scrollback buffer
set -g history-limit 10000

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when a window is closed
set -g renumber-windows on

# Set default terminal mode to 256color mode
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"

# =============================================================================
# KEY BINDINGS
# =============================================================================

# Keep default prefix key Ctrl-b
# unbind C-b
# set -g prefix C-a
# bind C-a send-prefix

# Reload config file
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Split panes using | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Switch panes using Alt-arrow without prefix
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Resize panes using Ctrl-arrow
bind -n C-Left resize-pane -L 5
bind -n C-Right resize-pane -R 5
bind -n C-Up resize-pane -U 5
bind -n C-Down resize-pane -D 5

# =============================================================================
# COLOR THEME (Modern Dark Theme)
# =============================================================================

# Status bar colors
set -g status-bg colour235
set -g status-fg colour136

# Window status colors
setw -g window-status-style fg=colour244,bg=colour235
setw -g window-status-current-style fg=colour166,bg=colour235,bright

# Pane colors
set -g pane-border-style fg=colour235
set -g pane-active-border-style fg=colour240

# Message colors
set -g message-style fg=colour166,bg=colour235,bright

# Clock colors
set -g clock-mode-colour colour64
set -g clock-mode-style 24

# =============================================================================
# STATUS BAR CONFIGURATION
# =============================================================================

# Status bar position
set -g status-position top

# Status bar refresh interval
set -g status-interval 1

# Status bar length
set -g status-left-length 40
set -g status-right-length 150

# Left side of status bar
set -g status-left "#[fg=colour166,bg=colour235,bright] #S #[fg=colour235,bg=colour240,nobright]"

# Right side of status bar with cool info
set -g status-right "#[fg=colour240,bg=colour235]#[fg=colour166,bg=colour240] #[fg=colour64,bg=colour240]#[fg=colour235,bg=colour64] %H:%M #[fg=colour240,bg=colour64]#[fg=colour166,bg=colour240] LOAD:#(/home/johmathe/dotfiles/tmux/load_color.sh) #[fg=colour240,bg=colour240] #[fg=colour166,bg=colour240] MEM:#(/home/johmathe/dotfiles/tmux/mem_usage.sh) #[fg=colour240,bg=colour240] #[fg=colour166,bg=colour240] #{hostname} "

# Window status format
setw -g window-status-format "#[fg=colour244,bg=colour235] #I:#W "
setw -g window-status-current-format "#[fg=colour166,bg=colour235,bright] #I:#W "

# =============================================================================
# PLUGINS (optional - requires tpm - tmux plugin manager)
# Uncomment and install tpm for additional features like battery, network speed, etc.
# =============================================================================

# Uncomment these lines if you want to install plugins:
# git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
# Then press Ctrl-b + I in tmux to install plugins

# List of plugins (uncomment to use)
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'
# set -g @plugin 'tmux-plugins/tmux-cpu'
# set -g @plugin 'tmux-plugins/tmux-battery'
# set -g @plugin 'tmux-plugins/tmux-net-speed'
# set -g @plugin 'tmux-plugins/tmux-online-status'
# set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

# Plugin configurations (uncomment to use)
# set -g @resurrect-capture-pane-contents 'on'
# set -g @continuum-restore 'on'
# set -g @continuum-save-interval '15'

# Initialize TMUX plugin manager (uncomment if using plugins)
# run '~/.tmux/plugins/tpm/tpm'

